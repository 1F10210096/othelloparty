(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[463],{5627:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/othello",function(){return n(1702)}])},5371:function(e,t,n){"use strict";n.d(t,{L:function(){return a}});var o=n(24);let a=(0,o.cn)(null)},8239:function(e,t,n){"use strict";n.d(t,{g:function(){return i}});var o=n(5893),a=n(7294),s=n(3935);let c=e=>{let{children:t}=e,[n,o]=(0,a.useState)();return(0,a.useEffect)(()=>{let e=document.createElement("div");return document.body.appendChild(e),o(e),()=>{document.body.removeChild(e)}},[]),n?s.createPortal(t,n):null};var l=n(3739),r=n.n(l);let i=e=>e.visible?(0,o.jsx)(c,{children:(0,o.jsx)("div",{className:r().container,children:(0,o.jsx)("div",{className:r().loader})})}):null},1292:function(e,t,n){"use strict";n.d(t,{v:function(){return i}});var o=n(5893);let a=e=>(0,o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:e.size,height:e.size,fill:e.fill,children:(0,o.jsx)("path",{d:"M12 0c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm7.753 18.305c-.261-.586-.789-.991-1.871-1.241-2.293-.529-4.428-.993-3.393-2.945 3.145-5.942.833-9.119-2.489-9.119-3.388 0-5.644 3.299-2.489 9.119 1.066 1.964-1.148 2.427-3.393 2.945-1.084.25-1.608.658-1.867 1.246-1.405-1.723-2.251-3.919-2.251-6.31 0-5.514 4.486-10 10-10s10 4.486 10 10c0 2.389-.845 4.583-2.247 6.305z"})});var s=n(1733),c=n(80),l=n(2038),r=n.n(l);let i=e=>{let{user:t}=e,n=async()=>{confirm("Logout?")&&await (0,c.k)()};return(0,o.jsx)("div",{className:r().container,children:(0,o.jsxs)("div",{className:r().main,children:[(0,o.jsx)("img",{src:s.D.frourio_svg,height:36,alt:"frourio logo"}),(0,o.jsxs)("div",{className:r().userBtn,onClick:n,children:[t.photoURL?(0,o.jsx)("img",{className:r().userIcon,src:t.photoURL,height:24,alt:t.displayName}):(0,o.jsx)(a,{size:18,fill:"#555"}),(0,o.jsx)("span",{className:r().userName,children:t.displayName})]})]})})}},1702:function(e,t,n){"use strict";n.r(t);var o=n(5893),a=n(24),s=n(7294),c=n(8239),l=n(1292),r=n(1290),i=n(3377),d=n(5371),_=n(2108),u=n.n(_);let h=()=>{let[e]=(0,a.KO)(d.L),[t,n]=(0,s.useState)(),_=async()=>{let e=await r.x.board.$get().catch(i.F);null!==e&&n(e)},h=async(e,t)=>{await r.x.board.$post({body:{x:e,y:t}}),await _()};return((0,s.useEffect)(()=>{let e=setInterval(_,500);return()=>{clearInterval(e)}},[]),t&&e)?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(l.v,{user:e}),(0,o.jsxs)("div",{className:u().container,children:[(0,o.jsx)("div",{className:u().me}),(0,o.jsx)("div",{className:u().component}),(0,o.jsxs)("p",{children:["現在の手番は",(0,o.jsx)("span",{id:"current-turn",children:"黒"}),"です"]}),(0,o.jsx)("div",{className:u().board,children:t.map((e,t)=>e.map((e,n)=>(0,o.jsx)("div",{className:u().cell,onClick:()=>h(n,t),children:0!==e&&(0,o.jsx)("div",{className:u().stone,style:{background:1===e?"#000":2===e?"#fff":"#0f0",width:3===e?"20px":""}})},"".concat(n,"-").concat(t))))})]})]}):(0,o.jsx)(c.g,{visible:!0})};t.default=h},1733:function(e,t,n){"use strict";n.d(t,{D:function(){return o}});let o={favicon_png:"/othelloparty/favicon.png",frourio_svg:"/othelloparty/frourio.svg",images:{odaiba_jpg:"/othelloparty/images/odaiba.jpg"}}},1290:function(e,t,n){"use strict";n.d(t,{x:function(){return i}});var o=n(3928),a=n(8416),s=n.n(a),c=n(9669),l=n.n(c);let r=l().create();r.defaults.withCredentials=!0;let i=(e=>{let{baseURL:t,fetch:n}=e,a=(void 0===t?"":t).replace(/\/$/,""),s="/board",c="/health",l="/session",r="/tasks",i="POST",d="DELETE",_="PATCH";return{board:{get:e=>n(a,s,"GET",e).json(),$get:e=>n(a,s,"GET",e).json().then(e=>e.body),post:e=>n(a,s,i,e).json(),$post:e=>n(a,s,i,e).json().then(e=>e.body),$path:()=>"".concat(a).concat(s)},health:{get:e=>n(a,c,"GET",e).text(),$get:e=>n(a,c,"GET",e).text().then(e=>e.body),$path:()=>"".concat(a).concat(c)},me:{get:e=>n(a,"/me","GET",e).json(),$get:e=>n(a,"/me","GET",e).json().then(e=>e.body),$path:()=>"".concat(a).concat("/me")},session:{post:e=>n(a,l,i,e).json(),$post:e=>n(a,l,i,e).json().then(e=>e.body),delete:e=>n(a,l,d,e).json(),$delete:e=>n(a,l,d,e).json().then(e=>e.body),$path:()=>"".concat(a).concat(l)},tasks:{_taskId:e=>{let t="".concat(r,"/").concat(e);return{patch:e=>n(a,t,_,e).send(),$patch:e=>n(a,t,_,e).send().then(e=>e.body),delete:e=>n(a,t,d,e).send(),$delete:e=>n(a,t,d,e).send().then(e=>e.body),$path:()=>"".concat(a).concat(t)}},get:e=>n(a,r,"GET",e).json(),$get:e=>n(a,r,"GET",e).json().then(e=>e.body),post:e=>n(a,r,i,e).json(),$post:e=>n(a,r,i,e).json().then(e=>e.body),$path:e=>"".concat(a).concat(r).concat(e&&e.query?"?".concat((0,o.dataToURLString)(e.query)):"")},get:e=>n(a,"","GET",e).text(),$get:e=>n(a,"","GET",e).text().then(e=>e.body),$path:()=>"".concat(a)}})(s()(r))},80:function(e,t,n){"use strict";let o;n.d(t,{_:function(){return i},k:function(){return d}});var a=n(1259),s=n(3977),c=n(3454);let l=()=>{if(o)return o;if(c.env.NEXT_PUBLIC_AUTH_EMULATOR_URL){let e=(0,a.v0)((0,s.ZF)({apiKey:"fake-api-key",authDomain:location.hostname}));return(0,a.S$)(e,c.env.NEXT_PUBLIC_AUTH_EMULATOR_URL,{disableWarnings:!0}),o=e,e}{var e;let t=JSON.parse(null!==(e=c.env.NEXT_PUBLIC_FIREBASE_CONFIG)&&void 0!==e?e:"{}"),n=(0,a.v0)((0,s.ZF)(t));return o=n,n}};var r=n(3377);let i=async()=>{let e=new a.GH;e.addScope("read:user"),await (0,a.rh)(l(),e).catch(r.F)},d=async()=>{await l().signOut()}},3377:function(e,t,n){"use strict";n.d(t,{F:function(){return o}});let o=()=>null},3739:function(e){e.exports={container:"Loading_container__9E6cJ",loader:"Loading_loader__XRYOm",load:"Loading_load__x7rX5"}},2038:function(e){e.exports={container:"BasicHeader_container__5rTZS",main:"BasicHeader_main__yd6De",userBtn:"BasicHeader_userBtn__B7CLf",userIcon:"BasicHeader_userIcon__fjiOn",userName:"BasicHeader_userName__vjAjN"}},2108:function(e){e.exports={container:"othello_container__f2XDH",main:"othello_main__zF5jw",footer:"othello_footer__0WJ2N",title:"othello_title__P_LWE",description:"othello_description__m97ud",code:"othello_code__OTpYz",grid:"othello_grid__8wRBL",card:"othello_card__kS0YF",logo:"othello_logo__KuYnA",board:"othello_board__w_zl9",cell:"othello_cell__IHagl",stone:"othello_stone__Cq1qK",me:"othello_me__rl5_D",component:"othello_component__Ho1dB",available:"othello_available__Sovjw"}}},function(e){e.O(0,[774,597,703,306,888,179],function(){return e(e.s=5627)}),_N_E=e.O()}]);